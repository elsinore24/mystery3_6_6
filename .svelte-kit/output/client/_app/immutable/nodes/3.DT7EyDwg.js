import{s as pe,n as A,d as v,w as ee,x as Ie,y as te,i as B,b as c,z,r as f,A as Ee,c as _,e as x,B as L,g as y,f as M,h as g,j as U,t as G,C as we,a as _e,D as le,E as Ce}from"../chunks/DptCN1eL.js";import{S as ge,i as ve,d as ae,t as se,a as ne,m as oe,e as re,b as ie}from"../chunks/92oxic9D.js";import{E as $e}from"../chunks/C2qgC4ZJ.js";import{e as K}from"../chunks/D6YF6ztN.js";import{s as be,l as ce,d as de,u as ke,g as xe}from"../chunks/C0sslGl3.js";const ye=!1,Le=Object.freeze(Object.defineProperty({__proto__:null,ssr:ye},Symbol.toStringTag,{value:"Module"}));function fe(s,e,t){const n=s.slice();return n[11]=e[t],n}function Ue(s,e,t){const n=s.slice();return n[14]=e[t],n}function De(s){let e,t=s[14].name+"",n;return{c(){e=g("option"),n=G(t),this.h()},l(l){e=_(l,"OPTION",{});var a=x(e);n=M(a,t),a.forEach(v),this.h()},h(){e.__value=s[14],we(e,e.__value)},m(l,a){B(l,e,a),c(e,n)},p:A,d(l){l&&v(e)}}}function ue(s){let e,t;return{c(){e=g("p"),t=G(s[2]),this.h()},l(n){e=_(n,"P",{class:!0});var l=x(e);t=M(l,s[2]),l.forEach(v),this.h()},h(){f(e,"class","mb-4")},m(n,l){B(n,e,l),c(e,t)},p(n,l){l&4&&_e(t,n[2])},d(n){n&&v(e)}}}function he(s){let e,t,n="Last Uploaded Image:",l,a,r;return{c(){e=g("div"),t=g("h3"),t.textContent=n,l=U(),a=g("img"),this.h()},l(h){e=_(h,"DIV",{class:!0});var i=x(e);t=_(i,"H3",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-1ccr3o5"&&(t.textContent=n),l=y(i),a=_(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(v),this.h()},h(){f(t,"class","font-bold"),le(a.src,r=s[4])||f(a,"src",r),f(a,"alt","Uploaded"),f(a,"class","max-w-xs mt-2"),f(e,"class","mb-4")},m(h,i){B(h,e,i),c(e,t),c(e,l),c(e,a)},p(h,i){i&16&&!le(a.src,r=h[4])&&f(a,"src",r)},d(h){h&&v(e)}}}function me(s){let e,t,n=s[11].name+"",l,a,r,h="Delete",i,b,u;function m(){return s[9](s[11])}return{c(){e=g("div"),t=g("p"),l=G(n),a=U(),r=g("button"),r.textContent=h,i=U(),this.h()},l(I){e=_(I,"DIV",{class:!0});var C=x(e);t=_(C,"P",{class:!0});var E=x(t);l=M(E,n),E.forEach(v),a=y(C),r=_(C,"BUTTON",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-823kwe"&&(r.textContent=h),i=y(C),C.forEach(v),this.h()},h(){f(t,"class","text-sm mb-2"),f(r,"class","bg-red-500 text-white px-2 py-1 rounded text-sm"),f(e,"class","border p-2")},m(I,C){B(I,e,C),c(e,t),c(t,l),c(e,a),c(e,r),c(e,i),b||(u=z(r,"click",m),b=!0)},p(I,C){s=I,C&8&&n!==(n=s[11].name+"")&&_e(l,n)},d(I){I&&v(e),b=!1,u()}}}function Te(s){let e,t,n="Image Upload Test",l,a,r,h,i,b,u,m,I,C,E,D,N,S,T,Q="Existing Images:",W,O,J,R,X=K(be),V=[];for(let o=0;o<X.length;o+=1)V[o]=De(Ue(s,X,o));let $=s[2]&&ue(s),k=s[4]&&he(s),j=K(s[3]),w=[];for(let o=0;o<j.length;o+=1)w[o]=me(fe(s,j,o));return{c(){e=g("div"),t=g("h2"),t.textContent=n,l=U(),a=g("div"),r=g("select");for(let o=0;o<V.length;o+=1)V[o].c();h=U(),i=g("div"),b=g("input"),u=U(),m=g("button"),I=G("Upload"),E=U(),$&&$.c(),D=U(),k&&k.c(),N=U(),S=g("div"),T=g("h3"),T.textContent=Q,W=U(),O=g("div");for(let o=0;o<w.length;o+=1)w[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var p=x(e);t=_(p,"H2",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-k6764w"&&(t.textContent=n),l=y(p),a=_(p,"DIV",{class:!0});var d=x(a);r=_(d,"SELECT",{class:!0});var H=x(r);for(let P=0;P<V.length;P+=1)V[P].l(H);H.forEach(v),d.forEach(v),h=y(p),i=_(p,"DIV",{class:!0});var F=x(i);b=_(F,"INPUT",{type:!0,accept:!0,class:!0}),u=y(F),m=_(F,"BUTTON",{class:!0});var Y=x(m);I=M(Y,"Upload"),Y.forEach(v),F.forEach(v),E=y(p),$&&$.l(p),D=y(p),k&&k.l(p),N=y(p),S=_(p,"DIV",{});var q=x(S);T=_(q,"H3",{class:!0,"data-svelte-h":!0}),L(T)!=="svelte-wp9fep"&&(T.textContent=Q),W=y(q),O=_(q,"DIV",{class:!0});var Z=x(O);for(let P=0;P<w.length;P+=1)w[P].l(Z);Z.forEach(v),q.forEach(v),p.forEach(v),this.h()},h(){f(t,"class","text-xl font-bold mb-4"),f(r,"class","border p-2 rounded"),s[0]===void 0&&Ee(()=>s[8].call(r)),f(a,"class","mb-4"),f(b,"type","file"),f(b,"accept","image/jpeg"),f(b,"class","mb-2"),m.disabled=C=!s[1],f(m,"class","bg-blue-500 text-white px-4 py-2 rounded disabled:opacity-50"),f(i,"class","mb-4"),f(T,"class","font-bold mb-2"),f(O,"class","grid grid-cols-3 gap-4"),f(e,"class","p-4")},m(o,p){B(o,e,p),c(e,t),c(e,l),c(e,a),c(a,r);for(let d=0;d<V.length;d+=1)V[d]&&V[d].m(r,null);te(r,s[0],!0),c(e,h),c(e,i),c(i,b),c(i,u),c(i,m),c(m,I),c(e,E),$&&$.m(e,null),c(e,D),k&&k.m(e,null),c(e,N),c(e,S),c(S,T),c(S,W),c(S,O);for(let d=0;d<w.length;d+=1)w[d]&&w[d].m(O,null);J||(R=[z(r,"change",s[8]),z(b,"change",s[5]),z(m,"click",s[6])],J=!0)},p(o,[p]){if(p&1&&te(r,o[0]),p&2&&C!==(C=!o[1])&&(m.disabled=C),o[2]?$?$.p(o,p):($=ue(o),$.c(),$.m(e,D)):$&&($.d(1),$=null),o[4]?k?k.p(o,p):(k=he(o),k.c(),k.m(e,N)):k&&(k.d(1),k=null),p&136){j=K(o[3]);let d;for(d=0;d<j.length;d+=1){const H=fe(o,j,d);w[d]?w[d].p(H,p):(w[d]=me(H),w[d].c(),w[d].m(O,null))}for(;d<w.length;d+=1)w[d].d(1);w.length=j.length}},i:A,o:A,d(o){o&&v(e),ee(V,o),$&&$.d(),k&&k.d(),ee(w,o),J=!1,Ie(R)}}}function Se(s,e,t){let n,l=be[0],a="",r=[],h="";async function i(E){t(1,n=E.target.files[0])}async function b(){try{t(2,a="Uploading...");const D=`profile.${n.name.split(".").pop().toLowerCase()}`,N=await ce(l.id);for(const T of N)T.name.startsWith("profile.")&&await de(`${l.id}/${T.name}`);await ke(n,l.id,D),t(2,a="Upload successful!");const S=`${l.id}/${D}`;t(4,h=await xe(S)),await u()}catch(E){t(2,a=`Upload failed: ${E.message}`),console.error("Upload error:",E)}}async function u(){try{t(3,r=await ce(l.id))}catch(E){console.error("Failed to load images:",E)}}async function m(E){try{const D=`${l.id}/${E}`;await de(D),await u()}catch(D){console.error("Delete failed:",D)}}function I(){l=Ce(this),t(0,l)}const C=E=>m(E.name);return s.$$.update=()=>{s.$$.dirty&1&&l&&u()},[l,n,a,r,h,i,b,m,I,C]}class Ve extends ge{constructor(e){super(),ve(this,e,Se,Te,pe,{})}}function Oe(s){let e,t,n="Admin Dashboard",l,a,r,h,i,b;return r=new $e({}),i=new Ve({}),{c(){e=g("div"),t=g("h1"),t.textContent=n,l=U(),a=g("div"),ie(r.$$.fragment),h=U(),ie(i.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var m=x(e);t=_(m,"H1",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-btb260"&&(t.textContent=n),l=y(m),a=_(m,"DIV",{class:!0});var I=x(a);re(r.$$.fragment,I),h=y(I),re(i.$$.fragment,I),I.forEach(v),m.forEach(v),this.h()},h(){f(t,"class","text-3xl mb-8 burton-text-shadow"),f(a,"class","grid gap-8"),f(e,"class","admin-container p-4")},m(u,m){B(u,e,m),c(e,t),c(e,l),c(e,a),oe(r,a,null),c(a,h),oe(i,a,null),b=!0},p:A,i(u){b||(ne(r.$$.fragment,u),ne(i.$$.fragment,u),b=!0)},o(u){se(r.$$.fragment,u),se(i.$$.fragment,u),b=!1},d(u){u&&v(e),ae(r),ae(i)}}}class Fe extends ge{constructor(e){super(),ve(this,e,null,Oe,pe,{})}}export{Fe as component,Le as universal};
//# sourceMappingURL=3.DT7EyDwg.js.map
