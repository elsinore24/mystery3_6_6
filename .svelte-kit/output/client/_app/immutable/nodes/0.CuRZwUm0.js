import{c as x,a as $,P as U}from"../chunks/Bj4WGR_5.js";import{s as j,_ as D,$ as L,a0 as M,a1 as K}from"../chunks/DptCN1eL.js";import{S as B,i as J,t as R,a as z}from"../chunks/92oxic9D.js";new TextEncoder;const I=new TextDecoder,H=t=>{const e=atob(t),o=new Uint8Array(e.length);for(let r=0;r<e.length;r++)o[r]=e.charCodeAt(r);return o},X=t=>{let e=t;e instanceof Uint8Array&&(e=I.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return H(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},F=X;var W=Object.create,C=Object.defineProperty,G=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,Y=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty,Q=(t,e)=>function(){return e||(0,t[O(t)[0]])((e={exports:{}}).exports,e),e.exports},V=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of O(e))!Z.call(t,n)&&n!==o&&C(t,n,{get:()=>e[n],enumerable:!(r=G(e,n))||r.enumerable});return t},E=(t,e,o)=>(o=t!=null?W(Y(t)):{},V(!t||!t.__esModule?C(o,"default",{value:t,enumerable:!0}):o,t)),A=Q({"../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js"(t){t.parse=r,t.serialize=n;var e=Object.prototype.toString,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(i,m){if(typeof i!="string")throw new TypeError("argument str must be a string");for(var h={},a=m||{},k=a.decode||s,u=0;u<i.length;){var c=i.indexOf("=",u);if(c===-1)break;var p=i.indexOf(";",u);if(p===-1)p=i.length;else if(p<c){u=i.lastIndexOf(";",c-1)+1;continue}var _=i.slice(u,c).trim();if(h[_]===void 0){var v=i.slice(c+1,p).trim();v.charCodeAt(0)===34&&(v=v.slice(1,-1)),h[_]=d(v,k)}u=p+1}return h}function n(i,m,h){var a=h||{},k=a.encode||l;if(typeof k!="function")throw new TypeError("option encode is invalid");if(!o.test(i))throw new TypeError("argument name is invalid");var u=k(m);if(u&&!o.test(u))throw new TypeError("argument val is invalid");var c=i+"="+u;if(a.maxAge!=null){var p=a.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(p)}if(a.domain){if(!o.test(a.domain))throw new TypeError("option domain is invalid");c+="; Domain="+a.domain}if(a.path){if(!o.test(a.path))throw new TypeError("option path is invalid");c+="; Path="+a.path}if(a.expires){var _=a.expires;if(!f(_)||isNaN(_.valueOf()))throw new TypeError("option expires is invalid");c+="; Expires="+_.toUTCString()}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.priority){var v=typeof a.priority=="string"?a.priority.toLowerCase():a.priority;switch(v){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(a.sameSite){var T=typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite;switch(T){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}function s(i){return i.indexOf("%")!==-1?decodeURIComponent(i):i}function l(i){return encodeURIComponent(i)}function f(i){return e.call(i)==="[object Date]"||i instanceof Date}function d(i,m){try{return m(i)}catch{return i}}}}),y=E(A()),P=E(A());function w(t){if(!t)return null;try{const e=JSON.parse(t);if(!e)return null;if(e.constructor.name==="Object")return e;if(e.constructor.name!=="Array")throw new Error(`Unexpected format: ${e.constructor.name}`);const[o,r,n]=e[0].split("."),s=F(r),l=new TextDecoder,{exp:f,sub:d,...i}=JSON.parse(l.decode(s));return{expires_at:f,expires_in:f-Math.round(Date.now()/1e3),token_type:"bearer",access_token:e[0],refresh_token:e[1],provider_token:e[2],provider_refresh_token:e[3],user:{id:d,factors:e[4],...i}}}catch(e){return console.warn("Failed to parse cookie string:",e),null}}function q(t){var e;return JSON.stringify([t.access_token,t.refresh_token,t.provider_token,t.provider_refresh_token,((e=t.user)==null?void 0:e.factors)??null])}function g(){return typeof window<"u"&&typeof window.document<"u"}var b={path:"/",sameSite:"lax",maxAge:60*60*24*365*1e3};function ee(t){return new RegExp(".{1,"+t+"}","g")}var N=3180,te=ee(N);function re(t,e,o){const r=te;if(Math.ceil(e.length/N)===1)return[{name:t,value:e}];const s=[],l=e.match(r);return l==null||l.forEach((f,d)=>{const i=`${t}.${d}`;s.push({name:i,value:f})}),s}function oe(t,e=()=>null){let o=[];for(let r=0;;r++){const n=`${t}.${r}`,s=e(n);if(!s)break;o.push(s)}return o.length?o.join(""):null}var ne=class{constructor(t){this.cookieOptions={...b,...t,maxAge:b.maxAge}}getItem(t){const e=this.getCookie(t);if(t.endsWith("-code-verifier")&&e)return e;if(e)return JSON.stringify(w(e));const o=oe(t,r=>this.getCookie(r));return o!==null?JSON.stringify(w(o)):null}setItem(t,e){if(t.endsWith("-code-verifier")){this.setCookie(t,e);return}let o=JSON.parse(e);const r=q(o);re(t,r).forEach(s=>{this.setCookie(s.name,s.value)})}removeItem(t){this._deleteSingleCookie(t),this._deleteChunkedCookies(t)}_deleteSingleCookie(t){this.getCookie(t)&&this.deleteCookie(t)}_deleteChunkedCookies(t,e=0){for(let o=e;;o++){const r=`${t}.${o}`;if(this.getCookie(r)===void 0)break;this.deleteCookie(r)}}},ie=class extends ne{constructor(t){super(t)}getCookie(t){return g()?(0,y.parse)(document.cookie)[t]:null}setCookie(t,e){if(!g())return null;document.cookie=(0,y.serialize)(t,e,{...this.cookieOptions,httpOnly:!1})}deleteCookie(t){if(!g())return null;document.cookie=(0,y.serialize)(t,"",{...this.cookieOptions,maxAge:0,httpOnly:!1})}};function ae(t,e,o){var r;const n=g();return x(t,e,{...o,auth:{flowType:"pkce",autoRefreshToken:n,detectSessionInUrl:n,persistSession:!0,storage:o.auth.storage,...(r=o.auth)!=null&&r.storageKey?{storageKey:o.auth.storageKey}:{}}})}P.parse;P.serialize;/*! Bundled license information:

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var se=class extends ie{constructor(t=null,e){super(e),this.serverSession=t}getItem(t){return g()?super.getItem(t):JSON.stringify(this.serverSession)}},S;function ce({supabaseUrl:t,supabaseKey:e,event:o,serverSession:r,options:n,cookieOptions:s}){var l;const f=g();if(f&&S)return S;const d=ae(t,e,{...n,global:{fetch:o.fetch,...n==null?void 0:n.global,headers:{...(l=n==null?void 0:n.global)==null?void 0:l.headers,"X-Client-Info":"@supabase/auth-helpers-sveltekit@0.13.0"}},auth:{storage:new se(r,s)}});return f&&(S=d),d}const ue=async({fetch:t,data:e,depends:o})=>{o("supabase:auth");const r=ce({supabaseUrl:$,supabaseKey:U,event:{fetch:t},serverSession:e.session}),{data:{session:n}}=await r.auth.getSession();return{supabase:r,session:n}},_e=Object.freeze(Object.defineProperty({__proto__:null,load:ue},Symbol.toStringTag,{value:"Module"}));function le(t){let e;const o=t[1].default,r=D(o,t,t[0],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,s){r&&r.m(n,s),e=!0},p(n,[s]){r&&r.p&&(!e||s&1)&&L(r,o,n,n[0],e?K(o,n[0],s,null):M(n[0]),null)},i(n){e||(z(r,n),e=!0)},o(n){R(r,n),e=!1},d(n){r&&r.d(n)}}}function fe(t,e,o){let{$$slots:r={},$$scope:n}=e;return t.$$set=s=>{"$$scope"in s&&o(0,n=s.$$scope)},[n,r]}class ve extends B{constructor(e){super(),J(this,e,fe,le,j,{})}}export{ve as component,_e as universal};
//# sourceMappingURL=0.CuRZwUm0.js.map
