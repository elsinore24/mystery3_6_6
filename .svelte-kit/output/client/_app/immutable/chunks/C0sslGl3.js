import{s as i}from"./SLVMguDr.js";async function c(e,r,o){if(!e||!r||!o)throw console.error("Upload validation failed:",{file:!!e,suspectId:r,fileName:o}),new Error("Missing required parameters for upload");try{const a=`${r}/${o}`;console.log("Starting upload process:",{path:a,fileSize:e.size,fileType:e.type,lastModified:e.lastModified,suspectId:r});const{data:t,error:s}=await i.storage.from("suspects").upload(a,e,{cacheControl:"3600",upsert:!0});if(s)throw console.error("Supabase upload error details:",s),s;return console.log("Upload completed successfully:",{data:t,path:a,fullPath:t==null?void 0:t.path,id:t==null?void 0:t.id}),t}catch(a){throw console.error("Upload process failed:",a),new Error(`Upload failed: ${a.message}`)}}async function l(e){if(!e)throw new Error("Path is required");try{console.log("Getting public URL for:",e);const{data:{publicUrl:r},error:o}=await i.storage.from("suspects").getPublicUrl(e);if(o)throw o;if(!r)throw new Error("No public URL returned");return console.log("Public URL generated:",r),r}catch(r){throw console.error("Failed to get image URL:",r),r}}async function d(e){if(!e)throw new Error("Path is required");try{const{data:r,error:o}=await i.storage.from("suspects").remove([e]);if(o)throw o;return r}catch(r){throw console.error("Delete operation error:",r),r}}async function u(e){if(!e)throw new Error("Suspect ID is required");try{const{data:r,error:o}=await i.storage.from("suspects").list(e);if(o)throw o;return r||[]}catch(r){throw console.error("List operation error:",r),r}}const p=[{id:"general-dijon",name:"General Dijon",description:"A sharp-minded and authoritative leader."},{id:"violet-bloom",name:"Violet Bloom",description:"A mysterious and captivating beauty."},{id:"dr-verdant",name:"Dr. Verdant",description:"A botanist driven by curiosity."},{id:"reverend-woe",name:"Reverend Woe",description:"A preacher shrouded in enigma."}];export{d,l as g,u as l,p as s,c as u};
//# sourceMappingURL=C0sslGl3.js.map
