import { c as create_ssr_component, a as subscribe, b as add_attribute, d as each, e as escape, f as createEventDispatcher, v as validate_component } from "../../../chunks/ssr.js";
import { w as writable } from "../../../chunks/index.js";
import "../../../chunks/supabase.js";
import { i as inventory } from "../../../chunks/EvidenceBoard.svelte_svelte_type_style_lang.js";
import { animate } from "motion";
const userName = writable("");
const Inventory = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $inventory, $$unsubscribe_inventory;
  $$unsubscribe_inventory = subscribe(inventory, (value) => $inventory = value);
  let { show = false } = $$props;
  let { isOpen = false } = $$props;
  let inventoryPanel;
  if ($$props.show === void 0 && $$bindings.show && show !== void 0) $$bindings.show(show);
  if ($$props.isOpen === void 0 && $$bindings.isOpen && isOpen !== void 0) $$bindings.isOpen(isOpen);
  $$unsubscribe_inventory();
  return `<div class="fixed right-0 top-0 h-full w-64 bg-gray-800 bg-opacity-90 p-4 transform translate-x-full"${add_attribute("this", inventoryPanel, 0)}><h2 class="text-xl text-white mb-4" data-svelte-h="svelte-12cpzdw">Inventory</h2> <div class="grid grid-cols-2 gap-2">${each($inventory, (item) => {
    return `<div class="bg-gray-700 p-2 rounded cursor-pointer hover:bg-gray-600"><img${add_attribute("src", item.icon, 0)}${add_attribute("alt", item.name, 0)} class="w-full h-auto"> <p class="text-white text-sm mt-1">${escape(item.name)}</p> </div>`;
  })}</div></div>`;
});
const DialogueSystem = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  createEventDispatcher();
  let dialogueBox;
  let isVisible = false;
  function show() {
    isVisible = true;
    animate(dialogueBox, { y: [20, 0], opacity: [0, 1] }, { duration: 0.4, easing: [0.4, 0, 0.2, 1] });
  }
  function hide() {
    animate(dialogueBox, { y: [0, 20], opacity: [1, 0] }, { duration: 0.3, easing: [0.4, 0, 0.2, 1] }).finished.then(() => isVisible = false);
  }
  if ($$props.show === void 0 && $$bindings.show && show !== void 0) $$bindings.show(show);
  if ($$props.hide === void 0 && $$bindings.hide && hide !== void 0) $$bindings.hide(hide);
  return `${isVisible ? `<div class="fixed bottom-8 left-1/2 transform -translate-x-1/2 w-3/4 max-w-2xl bg-gray-900 bg-opacity-90 p-6 rounded-lg text-white"${add_attribute("this", dialogueBox, 0)}>${slots.default ? slots.default({}) : ``}</div>` : ``}`;
});
const css = {
  code: ".game-container.svelte-maxj7g{background:#1a1a1a;color:#e0e0e0;position:relative;overflow:hidden}.spotlight.svelte-maxj7g{position:absolute;top:50%;left:50%;width:300px;height:300px;transform:translate(-50%, -50%);background:radial-gradient(\n      circle,\n      rgba(255, 255, 255, 0.15) 0%,\n      rgba(0, 0, 0, 0.8) 70%\n    );border-radius:50%;box-shadow:0 0 50px 30px rgba(255, 255, 255, 0.05);pointer-events:none;z-index:0;animation:svelte-maxj7g-flicker 4s infinite}.chair-shadow.svelte-maxj7g{width:150px;height:50px;background:rgba(0, 0, 0, 0.7);border-radius:50%;position:absolute;bottom:20%;left:50%;transform:translateX(-50%);z-index:0}.scene-container.svelte-maxj7g{position:relative;z-index:1}.table.svelte-maxj7g{width:80%;max-width:600px;height:300px;background:#2a2a2a;box-shadow:0 10px 30px rgba(0, 0, 0, 0.8),\n      inset 0 0 10px rgba(0, 0, 0, 0.5);border:2px solid #444;border-radius:8px;display:flex;align-items:center;justify-content:center;text-align:center}.welcome-message.svelte-maxj7g{font-size:1.5rem;font-weight:bold;color:#fff;text-shadow:2px 2px 8px rgba(0, 0, 0, 0.7)}.player-name.svelte-maxj7g{color:#ffd700;font-weight:bold}.evidence-board-btn.svelte-maxj7g{position:fixed;top:1rem;right:1rem;padding:0.75rem 1.5rem;background:#444;color:#fff;border:2px solid #fff;border-radius:8px;font-weight:bold;cursor:pointer;transition:all 0.3s ease-in-out;z-index:40}.evidence-board-btn.svelte-maxj7g:hover{background:#fff;color:#444}.evidence-modal.svelte-maxj7g{position:fixed;inset:0;background:rgba(0, 0, 0, 0.8);display:flex;align-items:center;justify-content:center;z-index:50}.evidence-content.svelte-maxj7g{position:relative;width:95%;height:90%;background:#1a1a1a;border-radius:8px;padding:2rem}.close-btn.svelte-maxj7g{position:absolute;top:1rem;right:1rem;background:#444;color:#fff;border:none;border-radius:50%;width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s ease;z-index:60}.close-btn.svelte-maxj7g:hover{background:#ffd700;color:#1a1a1a}@keyframes svelte-maxj7g-flicker{0%,100%{opacity:1}50%{opacity:0.85}75%{opacity:0.95}}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n  import { onMount } from 'svelte';\\n  import { browser } from '$app/environment';\\n  import { userName } from '$lib/stores/userStore';\\n  import { inventory, activeClues, currentScene, playerState } from '$lib/stores/gameState';\\n  import Inventory from '$lib/components/Inventory.svelte';\\n  import DialogueSystem from '$lib/components/DialogueSystem.svelte';\\n  import EvidenceBoard from '$lib/components/EvidenceBoard.svelte';\\n  \\n  let isInventoryOpen = false;\\n  let isEvidenceBoardOpen = false;\\n  \\n  onMount(async () => {\\n    if (!browser) return;\\n\\n    const { ambientSystem } = await import('$lib/audio/ambientSystem');\\n    if (!ambientSystem) return;\\n\\n    try {\\n      await ambientSystem.init();\\n      // Skip audio loading for now since we don't have the file\\n      // await ambientSystem.loadSound('ambient', '/sounds/buzzing.mp3');\\n    } catch (e) {\\n      console.warn('Audio initialization skipped:', e);\\n    }\\n  });\\n<\/script>\\n\\n<div class=\\"game-container relative h-screen\\">\\n  <div class=\\"spotlight\\"></div>\\n  <div class=\\"chair-shadow\\"></div>\\n\\n  <div class=\\"scene-container relative h-full flex items-center justify-center\\">\\n    <div class=\\"table\\">\\n      <div class=\\"welcome-message\\">\\n        <span class=\\"player-name\\">{$userName}</span>, please take a seat.\\n      </div>\\n    </div>\\n  </div>\\n  \\n  <button \\n    class=\\"evidence-board-btn\\"\\n    on:click={() => isEvidenceBoardOpen = true}\\n  >\\n    Open Evidence Board\\n  </button>\\n\\n  {#if isEvidenceBoardOpen}\\n    <div \\n      class=\\"evidence-modal\\"\\n      on:click|self={() => isEvidenceBoardOpen = false}\\n    >\\n      <div class=\\"evidence-content\\">\\n        <button \\n          class=\\"close-btn\\"\\n          on:click={() => isEvidenceBoardOpen = false}\\n        >\\n          âœ•\\n        </button>\\n        <EvidenceBoard />\\n      </div>\\n    </div>\\n  {/if}\\n  \\n  <Inventory show={true} bind:isOpen={isInventoryOpen} />\\n  <DialogueSystem />\\n</div>\\n\\n<style>\\n  .game-container {\\n    background: #1a1a1a;\\n    color: #e0e0e0;\\n    position: relative;\\n    overflow: hidden;\\n  }\\n\\n  .spotlight {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    width: 300px;\\n    height: 300px;\\n    transform: translate(-50%, -50%);\\n    background: radial-gradient(\\n      circle,\\n      rgba(255, 255, 255, 0.15) 0%,\\n      rgba(0, 0, 0, 0.8) 70%\\n    );\\n    border-radius: 50%;\\n    box-shadow: 0 0 50px 30px rgba(255, 255, 255, 0.05);\\n    pointer-events: none;\\n    z-index: 0;\\n    animation: flicker 4s infinite;\\n  }\\n\\n  .chair-shadow {\\n    width: 150px;\\n    height: 50px;\\n    background: rgba(0, 0, 0, 0.7);\\n    border-radius: 50%;\\n    position: absolute;\\n    bottom: 20%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n    z-index: 0;\\n  }\\n\\n  .scene-container {\\n    position: relative;\\n    z-index: 1;\\n  }\\n\\n  .table {\\n    width: 80%;\\n    max-width: 600px;\\n    height: 300px;\\n    background: #2a2a2a;\\n    box-shadow: \\n      0 10px 30px rgba(0, 0, 0, 0.8),\\n      inset 0 0 10px rgba(0, 0, 0, 0.5);\\n    border: 2px solid #444;\\n    border-radius: 8px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    text-align: center;\\n  }\\n\\n  .welcome-message {\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n    color: #fff;\\n    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);\\n  }\\n\\n  .player-name {\\n    color: #ffd700;\\n    font-weight: bold;\\n  }\\n\\n  .evidence-board-btn {\\n    position: fixed;\\n    top: 1rem;\\n    right: 1rem;\\n    padding: 0.75rem 1.5rem;\\n    background: #444;\\n    color: #fff;\\n    border: 2px solid #fff;\\n    border-radius: 8px;\\n    font-weight: bold;\\n    cursor: pointer;\\n    transition: all 0.3s ease-in-out;\\n    z-index: 40;\\n  }\\n\\n  .evidence-board-btn:hover {\\n    background: #fff;\\n    color: #444;\\n  }\\n\\n  .evidence-modal {\\n    position: fixed;\\n    inset: 0;\\n    background: rgba(0, 0, 0, 0.8);\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    z-index: 50;\\n  }\\n\\n  .evidence-content {\\n    position: relative;\\n    width: 95%;\\n    height: 90%;\\n    background: #1a1a1a;\\n    border-radius: 8px;\\n    padding: 2rem;\\n  }\\n\\n  .close-btn {\\n    position: absolute;\\n    top: 1rem;\\n    right: 1rem;\\n    background: #444;\\n    color: #fff;\\n    border: none;\\n    border-radius: 50%;\\n    width: 2.5rem;\\n    height: 2.5rem;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    cursor: pointer;\\n    transition: all 0.3s ease;\\n    z-index: 60;\\n  }\\n\\n  .close-btn:hover {\\n    background: #ffd700;\\n    color: #1a1a1a;\\n  }\\n\\n  @keyframes flicker {\\n    0%, 100% { opacity: 1; }\\n    50% { opacity: 0.85; }\\n    75% { opacity: 0.95; }\\n  }\\n</style>\\n"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $userName, $$unsubscribe_userName;
  $$unsubscribe_userName = subscribe(userName, (value) => $userName = value);
  let isInventoryOpen = false;
  $$result.css.add(css);
  let $$settled;
  let $$rendered;
  let previous_head = $$result.head;
  do {
    $$settled = true;
    $$result.head = previous_head;
    $$rendered = `<div class="game-container relative h-screen svelte-maxj7g"><div class="spotlight svelte-maxj7g"></div> <div class="chair-shadow svelte-maxj7g"></div> <div class="scene-container relative h-full flex items-center justify-center svelte-maxj7g"><div class="table svelte-maxj7g"><div class="welcome-message svelte-maxj7g"><span class="player-name svelte-maxj7g">${escape($userName)}</span>, please take a seat.</div></div></div> <button class="evidence-board-btn svelte-maxj7g" data-svelte-h="svelte-ltynfn">Open Evidence Board</button> ${``} ${validate_component(Inventory, "Inventory").$$render(
      $$result,
      { show: true, isOpen: isInventoryOpen },
      {
        isOpen: ($$value) => {
          isInventoryOpen = $$value;
          $$settled = false;
        }
      },
      {}
    )} ${validate_component(DialogueSystem, "DialogueSystem").$$render($$result, {}, {}, {})} </div>`;
  } while (!$$settled);
  $$unsubscribe_userName();
  return $$rendered;
});
export {
  Page as default
};
//# sourceMappingURL=_page.svelte.js.map
