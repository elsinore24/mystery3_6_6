{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/lib/stores/userStore.js","../../../../../../src/lib/components/Inventory.svelte","../../../../../../src/lib/components/DialogueSystem.svelte","../../../../../../src/routes/game/+page.svelte"],"sourcesContent":["import { writable } from 'svelte/store';\n\nexport const userName = writable('');\n","<script>\n  import { animate } from 'motion';\n  import { inventory } from '$lib/stores/gameState';\n  \n  export let show = false;\n  export let isOpen = false;\n  \n  let inventoryPanel;\n  \n  $: if (inventoryPanel && show) {\n    animate(\n      inventoryPanel,\n      { \n        x: isOpen ? '0%' : '100%',\n        opacity: isOpen ? 1 : 0.5 \n      },\n      { \n        duration: 0.3,\n        easing: [0.4, 0, 0.2, 1]\n      }\n    );\n  }\n</script>\n\n<div\n  bind:this={inventoryPanel}\n  class=\"fixed right-0 top-0 h-full w-64 bg-gray-800 bg-opacity-90 p-4 transform translate-x-full\"\n>\n  <h2 class=\"text-xl text-white mb-4\">Inventory</h2>\n  <div class=\"grid grid-cols-2 gap-2\">\n    {#each $inventory as item}\n      <div \n        class=\"bg-gray-700 p-2 rounded cursor-pointer hover:bg-gray-600\"\n        on:click={() => console.log('Selected:', item)}\n      >\n        <img src={item.icon} alt={item.name} class=\"w-full h-auto\" />\n        <p class=\"text-white text-sm mt-1\">{item.name}</p>\n      </div>\n    {/each}\n  </div>\n</div>\n","<script>\n  import { animate } from 'motion';\n  import { createEventDispatcher } from 'svelte';\n  \n  const dispatch = createEventDispatcher();\n  \n  let dialogueBox;\n  let isVisible = false;\n  \n  export function show() {\n    isVisible = true;\n    animate(\n      dialogueBox,\n      { \n        y: [20, 0],\n        opacity: [0, 1]\n      },\n      { \n        duration: 0.4,\n        easing: [0.4, 0, 0.2, 1]\n      }\n    );\n  }\n  \n  export function hide() {\n    animate(\n      dialogueBox,\n      { \n        y: [0, 20],\n        opacity: [1, 0]\n      },\n      { \n        duration: 0.3,\n        easing: [0.4, 0, 0.2, 1]\n      }\n    ).finished.then(() => isVisible = false);\n  }\n</script>\n\n{#if isVisible}\n  <div \n    bind:this={dialogueBox}\n    class=\"fixed bottom-8 left-1/2 transform -translate-x-1/2 w-3/4 max-w-2xl bg-gray-900 bg-opacity-90 p-6 rounded-lg text-white\"\n  >\n    <slot></slot>\n  </div>\n{/if}\n","<script>\n  import { onMount } from 'svelte';\n  import { browser } from '$app/environment';\n  import { userName } from '$lib/stores/userStore';\n  import { inventory, activeClues, currentScene, playerState } from '$lib/stores/gameState';\n  import Inventory from '$lib/components/Inventory.svelte';\n  import DialogueSystem from '$lib/components/DialogueSystem.svelte';\n  import EvidenceBoard from '$lib/components/EvidenceBoard.svelte';\n  \n  let isInventoryOpen = false;\n  let isEvidenceBoardOpen = false;\n  \n  onMount(async () => {\n    if (!browser) return;\n\n    const { ambientSystem } = await import('$lib/audio/ambientSystem');\n    if (!ambientSystem) return;\n\n    try {\n      await ambientSystem.init();\n      // Skip audio loading for now since we don't have the file\n      // await ambientSystem.loadSound('ambient', '/sounds/buzzing.mp3');\n    } catch (e) {\n      console.warn('Audio initialization skipped:', e);\n    }\n  });\n</script>\n\n<div class=\"game-container relative h-screen\">\n  <div class=\"spotlight\"></div>\n  <div class=\"chair-shadow\"></div>\n\n  <div class=\"scene-container relative h-full flex items-center justify-center\">\n    <div class=\"table\">\n      <div class=\"welcome-message\">\n        <span class=\"player-name\">{$userName}</span>, please take a seat.\n      </div>\n    </div>\n  </div>\n  \n  <button \n    class=\"evidence-board-btn\"\n    on:click={() => isEvidenceBoardOpen = true}\n  >\n    Open Evidence Board\n  </button>\n\n  {#if isEvidenceBoardOpen}\n    <div \n      class=\"evidence-modal\"\n      on:click|self={() => isEvidenceBoardOpen = false}\n    >\n      <div class=\"evidence-content\">\n        <button \n          class=\"close-btn\"\n          on:click={() => isEvidenceBoardOpen = false}\n        >\n          âœ•\n        </button>\n        <EvidenceBoard />\n      </div>\n    </div>\n  {/if}\n  \n  <Inventory show={true} bind:isOpen={isInventoryOpen} />\n  <DialogueSystem />\n</div>\n\n<style>\n  .game-container {\n    background: #1a1a1a;\n    color: #e0e0e0;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .spotlight {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 300px;\n    height: 300px;\n    transform: translate(-50%, -50%);\n    background: radial-gradient(\n      circle,\n      rgba(255, 255, 255, 0.15) 0%,\n      rgba(0, 0, 0, 0.8) 70%\n    );\n    border-radius: 50%;\n    box-shadow: 0 0 50px 30px rgba(255, 255, 255, 0.05);\n    pointer-events: none;\n    z-index: 0;\n    animation: flicker 4s infinite;\n  }\n\n  .chair-shadow {\n    width: 150px;\n    height: 50px;\n    background: rgba(0, 0, 0, 0.7);\n    border-radius: 50%;\n    position: absolute;\n    bottom: 20%;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 0;\n  }\n\n  .scene-container {\n    position: relative;\n    z-index: 1;\n  }\n\n  .table {\n    width: 80%;\n    max-width: 600px;\n    height: 300px;\n    background: #2a2a2a;\n    box-shadow: \n      0 10px 30px rgba(0, 0, 0, 0.8),\n      inset 0 0 10px rgba(0, 0, 0, 0.5);\n    border: 2px solid #444;\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n  }\n\n  .welcome-message {\n    font-size: 1.5rem;\n    font-weight: bold;\n    color: #fff;\n    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);\n  }\n\n  .player-name {\n    color: #ffd700;\n    font-weight: bold;\n  }\n\n  .evidence-board-btn {\n    position: fixed;\n    top: 1rem;\n    right: 1rem;\n    padding: 0.75rem 1.5rem;\n    background: #444;\n    color: #fff;\n    border: 2px solid #fff;\n    border-radius: 8px;\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 0.3s ease-in-out;\n    z-index: 40;\n  }\n\n  .evidence-board-btn:hover {\n    background: #fff;\n    color: #444;\n  }\n\n  .evidence-modal {\n    position: fixed;\n    inset: 0;\n    background: rgba(0, 0, 0, 0.8);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 50;\n  }\n\n  .evidence-content {\n    position: relative;\n    width: 95%;\n    height: 90%;\n    background: #1a1a1a;\n    border-radius: 8px;\n    padding: 2rem;\n  }\n\n  .close-btn {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    background: #444;\n    color: #fff;\n    border: none;\n    border-radius: 50%;\n    width: 2.5rem;\n    height: 2.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    z-index: 60;\n  }\n\n  .close-btn:hover {\n    background: #ffd700;\n    color: #1a1a1a;\n  }\n\n  @keyframes flicker {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.85; }\n    75% { opacity: 0.95; }\n  }\n</style>\n"],"names":[],"mappings":";;;;;AAEO,MAAM,WAAW,SAAS,EAAE;;;;ACEtB,MAAA,EAAA,OAAO,MAAK,IAAA;AACZ,MAAA,EAAA,SAAS,MAAK,IAAA;MAErB;;;;AAkBO,SAAA,wGAAA,cAAA,QAAA,iJAKF,YAAU,UAAA;6GAKH,KAAK,MAAW,CAAA,CAAA,GAAA,cAAA,OAAA,KAAK,MAAI,CAAA,CAAA,8DAAA,OACC,KAAK,IAAI,CAAA;AAAA;;;AChClC,wBAAqB;MAElC;AACA,MAAA,YAAY;WAEA,OAAI;AAClB,gBAAY;AACZ,YACE,aAAW,EAET,GAAC,CAAG,IAAI,CAAC,GACT,SAAO,CAAG,GAAG,CAAC,EAAA,GAAA,EAGd,UAAU,KACV,QAAM,CAAG,KAAK,GAAG,KAAK,CAAC,GAAA;AAAA;WAKb,OAAI;AAClB,YACE,aAEE,EAAA,IAAI,GAAG,EAAE,GACT,SAAU,CAAA,GAAG,CAAC,OAGd,UAAU,KACV,QAAS,CAAA,KAAK,GAAG,KAAK,CAAC,EAAA,CAAA,EAEzB,SAAS,KAAW,MAAA,YAAY,KAAK;AAAA;;;YAItC,wKAEU,aAAW,CAAA,CAAA,IAAA,MAAA,UAAA,MAAA,QAAA,CAAA,CAAA,IAAA,EAAA;;;;;;;;;AChCpB,MAAA,kBAAkB;;;;;;;;AA0BW,iBAAA,0WAAA,OAAA,SAAS;;MA6BzB,EAAA,MAAA,cAAmB,gBAAe;AAAA;;AAAf,4BAAe;;;;;;;;;;"}
