{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/lib/components/Suspect.svelte","../../../../../../src/lib/components/Typewriter.svelte","../../../../../../src/routes/mansion/+page.svelte"],"sourcesContent":["<script>\n  import { onMount } from 'svelte';\n  import { getImageUrl } from '$lib/storage';\n\n  export let suspect;\n  let imageUrl = '';\n  let loading = true;\n  let error = false;\n\n  async function tryLoadImage(path) {\n    try {\n      return await getImageUrl(path);\n    } catch {\n      return null;\n    }\n  }\n\n  onMount(async () => {\n    try {\n      loading = true;\n      error = false;\n      \n      // Try jpg first, then jpeg\n      const jpgPath = `${suspect.id}/profile.jpg`;\n      const jpegPath = `${suspect.id}/profile.jpeg`;\n      \n      console.log('Attempting to load suspect images:', suspect.id);\n      \n      // Try jpg first\n      imageUrl = await tryLoadImage(jpgPath);\n      \n      // If jpg fails, try jpeg\n      if (!imageUrl) {\n        imageUrl = await tryLoadImage(jpegPath);\n      }\n\n      if (!imageUrl) {\n        throw new Error('No image found with either extension');\n      }\n\n      console.log('Image URL loaded:', imageUrl);\n    } catch (err) {\n      console.error('Failed to load suspect image:', err);\n      error = true;\n    } finally {\n      loading = false;\n    }\n  });\n</script>\n\n<div class=\"suspect-card\">\n  <div class=\"suspect\">\n    <div class=\"suspect-inner\">\n      <div class=\"image-container\">\n        {#if loading}\n          <div class=\"image-placeholder\">Loading...</div>\n        {:else if error || !imageUrl}\n          <div class=\"image-placeholder\">No image available</div>\n        {:else}\n          <img \n            src={imageUrl} \n            alt={suspect.name} \n            class=\"suspect-image\"\n            on:error={() => {\n              console.error('Image failed to load:', imageUrl);\n              error = true;\n            }}\n          />\n        {/if}\n      </div>\n      <div class=\"eyes\">\n        <div class=\"eye left\"></div>\n        <div class=\"eye right\"></div>\n      </div>\n      <div class=\"suspect-content\">\n        <h3>{suspect.name}</h3>\n        <p>{suspect.description}</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n  .suspect-card {\n    perspective: 1000px;\n    width: 100%;\n    padding: 1rem;\n  }\n\n  .suspect {\n    aspect-ratio: 9 / 16;\n    position: relative;\n    background: var(--burton-black);\n    color: var(--burton-white);\n    border: 3px solid var(--burton-charcoal);\n    animation: sway 8s infinite alternate ease-in-out;\n    filter: grayscale(0.5) contrast(1.2);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6);\n    transform-style: preserve-3d;\n    transition: transform 0.5s;\n  }\n\n  .suspect:hover {\n    transform: translateZ(20px) rotateX(5deg);\n  }\n\n  .suspect-inner {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    padding: 2rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .image-container {\n    width: 100%;\n    height: 200px;\n    margin-bottom: 1rem;\n    position: relative;\n    overflow: hidden;\n    border: 2px solid var(--burton-charcoal);\n  }\n\n  .suspect-image {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: opacity 0.3s;\n  }\n\n  .image-placeholder {\n    width: 100%;\n    height: 100%;\n    background: var(--burton-charcoal);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--burton-amber);\n    border: 2px solid var(--burton-amber);\n  }\n\n  .eyes {\n    width: 30%;\n    height: 15%;\n    position: relative;\n    margin-bottom: 2rem;\n  }\n\n  .eye {\n    position: absolute;\n    width: 45%;\n    height: 100%;\n    background: var(--burton-white);\n    border: 2px solid var(--burton-charcoal);\n    border-radius: 50%;\n    box-shadow: 0 0 10px var(--burton-amber);\n    animation: flicker-shadow 4s infinite alternate ease-in-out;\n  }\n\n  .eye.left {\n    left: 0;\n  }\n\n  .eye.right {\n    right: 0;\n  }\n\n  .suspect-content {\n    text-align: center;\n  }\n\n  @keyframes sway {\n    0% {\n      transform: translate(-5%, 0) rotate(-2deg);\n    }\n    100% {\n      transform: translate(5%, 0) rotate(2deg);\n    }\n  }\n\n  @keyframes flicker-shadow {\n    0%, 100% {\n      box-shadow: 0 0 15px var(--flicker-bright), 0 0 30px var(--flicker-dim);\n    }\n    50% {\n      box-shadow: 0 0 10px var(--flicker-dim), 0 0 20px var(--flicker-bright);\n    }\n  }\n\n  h3 {\n    font-size: 1.5rem;\n    margin-bottom: 0.5rem;\n    font-family: 'Creepster', cursive;\n  }\n\n  p {\n    font-size: 0.9rem;\n    opacity: 0.8;\n  }\n</style>\n","<script>\n  import { onMount } from 'svelte';\n\n  export let text = '';\n  export let speed = 30; // Reduced from 50 to 30\n  export let delay = 0;\n\n  let displayText = '';\n  let visible = false;\n\n  onMount(() => {\n    setTimeout(() => {\n      visible = true;\n      typeText();\n    }, delay);\n  });\n\n  async function typeText() {\n    for (let i = 0; i < text.length; i++) {\n      displayText = text.slice(0, i + 1);\n      await new Promise(resolve => setTimeout(resolve, speed));\n    }\n  }\n</script>\n\n{#if visible}\n  <p class=\"text-lg text-center leading-relaxed burton-text-shadow\">\n    {displayText}\n  </p>\n{/if}\n","<script>\n  import { userName } from '$lib/stores/userStore';\n  import { onMount } from 'svelte';\n  import { fade, fly } from 'svelte/transition';\n  import RainOverlay from '$lib/components/RainOverlay.svelte';\n  import Environment from '$lib/components/Environment.svelte';\n  import Suspect from '$lib/components/Suspect.svelte';\n  import Typewriter from '$lib/components/Typewriter.svelte';\n  import { suspects } from '$lib/data/suspects';\n\n  let name = '';\n\n  onMount(() => {\n    userName.subscribe(value => {\n      name = value;\n    });\n  });\n\n  let murderStory = `As you step inside the grand mansion, the air feels heavy with tension.\n    A murder has taken place, and you're here to help solve the mystery.\n    The victim, Mr. Black, was found in the library. The suspects are all gathered here,\n    but no one knows who the culprit is... yet.`;\n</script>\n\n<div class=\"fixed-bg\">\n  <Environment />\n  <RainOverlay />\n</div>\n\n<div class=\"scrollable-content\">\n  <main class=\"content-wrapper\">\n    <div class=\"content-inner\" in:fade={{ duration: 1000 }}>\n      <h1 class=\"text-4xl font-bold mb-4 text-center burton-text-shadow\" in:fly={{ y: 20, duration: 1000 }}>\n        Welcome to the Mansion, {name}\n      </h1>\n      \n      <div class=\"mt-16\">\n        <Typewriter text={murderStory} speed={30} delay={1000} />\n      </div>\n\n      <h2 class=\"text-2xl font-semibold mb-4 text-center burton-text-shadow mt-16\" in:fly={{ y: 20, duration: 1000, delay: 400 }}>\n        Meet the Suspects\n      </h2>\n      \n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\" in:fly={{ y: 20, duration: 1000, delay: 600 }}>\n        {#each suspects as suspect, i}\n          <div in:fly={{ y: 20, duration: 1000, delay: 800 + i * 200 }}>\n            <Suspect {suspect} />\n          </div>\n        {/each}\n      </div>\n\n      <div class=\"flex justify-center mt-8 mb-8\" in:fly={{ y: 20, duration: 1000, delay: 1600 }}>\n        <a href=\"/game\" class=\"burton-button\">\n          Begin Investigation\n        </a>\n      </div>\n    </div>\n  </main>\n</div>\n\n<style>\n  .fixed-bg {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n  }\n\n  .scrollable-content {\n    position: relative;\n    z-index: 1;\n    height: 100%;\n    background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.6));\n    overflow-y: auto;\n  }\n\n  .content-wrapper {\n    position: relative;\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 2rem 1rem;\n    height: auto;\n  }\n\n  .content-inner {\n    max-width: 800px;\n    margin: 0 auto;\n    padding-bottom: 2rem;\n  }\n\n  @media (max-width: 768px) {\n    .content-wrapper {\n      padding: 1rem;\n    }\n  }\n</style>\n"],"names":[],"mappings":";;;;;;;;;QAIa,QAAO,IAAA;;;6QAyDS,gPAAA,OAchB,QAAQ,IAAI,CAAA,mCAAA,OACb,QAAQ,WAAW,CAAA;;;ACzElB,MAAA,EAAA,OAAO,GAAE,IAAA;AACT,MAAA,EAAA,QAAQ,GAAE,IAAA;AACV,MAAA,EAAA,QAAQ,EAAC,IAAA;;;;;;;;;;;ACKhB,MAAA,OAAO;MAQP,cAAW;AAAA;AAAA;AAAA;;6bAegB,IAAI,CAAA,4BAAA,mBAAA,YAAA,YAAA,EAAA;AAAA;;YAIX;AAAA,aAAoB;AAAA,aAAW;AAAA;;;uMAQ1C,UAAQ,CAAA,SAAA,MAAA;;;;"}
