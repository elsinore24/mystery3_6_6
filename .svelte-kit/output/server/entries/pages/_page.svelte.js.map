{"version":3,"file":"_page.svelte.js","sources":["../../../../../src/lib/components/BloodSplatter.svelte","../../../../../src/lib/components/CrimeSceneTape.svelte","../../../../../src/routes/+page.svelte"],"sourcesContent":["<script>\n  let id = `filter-${Math.random().toString(36).substr(2, 9)}`;\n</script>\n\n<svg class=\"fixed inset-0 pointer-events-none z-20 opacity-80\" width=\"100%\" height=\"100%\">\n  <defs>\n    <filter id={id}>\n      <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.04\" numOctaves=\"5\" result=\"noise\"/>\n      <feColorMatrix type=\"matrix\" values=\"1 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 -0.5 1\" in=\"noise\" result=\"colorNoise\"/>\n      <feComposite operator=\"in\" in2=\"SourceGraphic\"/>\n    </filter>\n  </defs>\n  \n  <g filter={`url(#${id})`}>\n    <!-- Impact Splatter -->\n    <path\n      d=\"M200,150 \n         C220,130 240,140 250,120 \n         C260,100 280,110 290,90 \n         C300,70 310,80 320,60 \n         C330,40 350,50 360,30\"\n      fill=\"#8B0000\"\n      transform=\"rotate(15)\"\n    />\n    \n    <!-- Mist Pattern -->\n    <g transform=\"translate(100, 100)\">\n      {#each Array(20) as _, i}\n        <circle \n          cx={Math.random() * 200} \n          cy={Math.random() * 200} \n          r={Math.random() * 3 + 1} \n          fill=\"#8B0000\"\n        />\n      {/each}\n    </g>\n    \n    <!-- Drip Patterns -->\n    <path\n      d=\"M150,50 \n         Q148,80 146,100 \n         T144,150 \n         Q142,180 140,200\"\n      stroke=\"#8B0000\"\n      stroke-width=\"4\"\n      fill=\"none\"\n    />\n    <path\n      d=\"M160,70 \n         Q158,90 156,110 \n         T154,160\"\n      stroke=\"#8B0000\"\n      stroke-width=\"3\"\n      fill=\"none\"\n    />\n    \n    <!-- Cast-off Pattern -->\n    <path\n      d=\"M300,100 \n         Q350,90 400,85 \n         T500,80\"\n      stroke=\"#8B0000\"\n      stroke-width=\"2\"\n      fill=\"none\"\n    />\n    \n    <!-- Pool Pattern -->\n    <path\n      d=\"M250,300 \n         C270,290 290,295 310,290 \n         C330,285 350,288 370,285 \n         C390,282 410,280 430,282 \n         C450,284 470,288 490,290 \n         C510,292 530,290 550,295 \n         C570,300 590,298 610,305 \n         Z\"\n      fill=\"#8B0000\"\n    />\n    \n    <!-- Satellite Droplets -->\n    {#each Array(15) as _, i}\n      <circle \n        cx={Math.random() * 600} \n        cy={Math.random() * 400} \n        r={Math.random() * 2 + 0.5} \n        fill=\"#8B0000\"\n      />\n    {/each}\n  </g>\n</svg>\n","<script>\n  import { onMount } from 'svelte';\n\n  let tapeWidth;\n  let tapeHeight;\n  let tapeColor = '#FFF200';\n  let textColor = '#000000';\n\n  onMount(() => {\n    const updateSize = () => {\n      tapeWidth = window.innerWidth;\n      tapeHeight = Math.min(80, window.innerHeight * 0.1);\n    };\n\n    updateSize();\n    window.addEventListener('resize', updateSize);\n\n    return () => {\n      window.removeEventListener('resize', updateSize);\n    };\n  });\n</script>\n\n<div class=\"crime-scene-tape\">\n  <svg width={tapeWidth} height={tapeHeight}>\n    <defs>\n      <filter id=\"noise\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\">\n        <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.3\" numOctaves=\"2\" result=\"noise\"/>\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" xChannelSelector=\"R\" yChannelSelector=\"G\"/>\n      </filter>\n      <filter id=\"worn\">\n        <feTurbulence type=\"turbulence\" baseFrequency=\"0.02\" numOctaves=\"2\" result=\"turbulence\"/>\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"turbulence\" scale=\"8\"/>\n      </filter>\n      <mask id=\"tatterMask\">\n        <rect width=\"100%\" height=\"100%\" fill=\"white\"/>\n        <g filter=\"url(#worn)\">\n          {#each Array(12) as _, i}\n            <circle \n              cx={Math.random() * 100 + '%'} \n              cy={Math.random() * 100 + '%'} \n              r={Math.random() * 3 + 2} \n              fill=\"black\" \n            />\n          {/each}\n        </g>\n      </mask>\n    </defs>\n    \n    <!-- Curled edge shadow -->\n    <path \n      d={`M0 ${tapeHeight} \n          C ${tapeWidth * 0.2} ${tapeHeight * 1.1} \n            ${tapeWidth * 0.8} ${tapeHeight * 0.9} \n            ${tapeWidth} ${tapeHeight}`}\n      fill=\"rgba(0,0,0,0.2)\"\n    />\n    \n    <!-- Base tape with tatter effect -->\n    <g mask=\"url(#tatterMask)\" class=\"tape-body\">\n      <rect width={tapeWidth} height={tapeHeight} fill={tapeColor} filter=\"url(#noise)\"/>\n      <!-- Worn edges -->\n      <path \n        d={`M0 0 L${tapeWidth} 0 L${tapeWidth} ${tapeHeight} L0 ${tapeHeight}Z`} \n        fill=\"none\" \n        stroke=\"rgba(0,0,0,0.2)\" \n        stroke-width=\"1.5\" \n        stroke-dasharray=\"3 2\"\n        filter=\"url(#worn)\"\n      />\n    </g>\n\n    <!-- Text with reduced distress effect -->\n    <g class=\"tape-text-container\">\n      <text \n        x=\"50%\" \n        y=\"50%\" \n        dominant-baseline=\"middle\" \n        text-anchor=\"middle\" \n        fill={textColor} \n        font-size=\"28\" \n        font-weight=\"bold\" \n        class=\"tape-text\"\n        stroke={textColor}\n        stroke-width=\"0.3\"\n      >\n        CRIME SCENE - DO NOT CROSS\n      </text>\n    </g>\n  </svg>\n</div>\n\n<style>\n  .crime-scene-tape {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%) rotate(-5deg);\n    z-index: 30;\n    width: 100%;\n    overflow: hidden;\n    opacity: 0.95;\n  }\n\n  .tape-body {\n    transform-origin: center bottom;\n    animation: curl 8s ease-in-out infinite;\n  }\n\n  .tape-text-container {\n    animation: waver 6s ease-in-out infinite;\n  }\n\n  .tape-text {\n    font-family: 'Impact', sans-serif;\n    letter-spacing: 3px;\n  }\n\n  @keyframes waver {\n    0%, 100% { transform: translateY(0) rotate(0); }\n    50% { transform: translateY(-1px) rotate(1deg); }\n  }\n\n  @keyframes curl {\n    0%, 100% { transform: perspective(400px) rotateX(0deg); }\n    50% { transform: perspective(400px) rotateX(3deg); }\n  }\n\n  @media (max-width: 768px) {\n    .tape-text {\n      font-size: 20px;\n    }\n  }\n</style>\n","<script>\n  import { onMount } from 'svelte';\n  import { goto } from '$app/navigation';\n  import { userName } from '$lib/stores/userStore';\n  import RainOverlay from '$lib/components/RainOverlay.svelte';\n  import BloodSplatter from '$lib/components/BloodSplatter.svelte';\n  import CrimeSceneTape from '$lib/components/CrimeSceneTape.svelte';\n  import Environment from '$lib/components/Environment.svelte';\n\n  let heading;\n  let name = '';\n  let error = '';\n  let isTransitioning = false;\n  let scale = 1.0;\n  \n  onMount(() => {\n    if (heading) {\n      heading.style.opacity = '1';\n      heading.style.transform = 'translateY(0)';\n      heading.style.transition = 'opacity 1s, transform 1s';\n    }\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (name.trim() === '') {\n      error = 'We need a name to proceed, dear guest.';\n      return;\n    }\n    userName.set(name);\n    isTransitioning = true;\n    scale = 1.8;\n    \n    await new Promise(resolve => setTimeout(resolve, 3000));\n    goto('/mansion');\n  };\n</script>\n\n<svelte:head>\n  <title>Crime Scene Investigation</title>\n</svelte:head>\n\n<div class=\"fixed inset-0 overflow-hidden bg-[var(--burton-black)]\">\n  <div class=\"environment-wrapper absolute inset-0 z-10 flex items-center justify-center\" class:transitioning={isTransitioning}>\n    <div class=\"environment-container w-full h-full\">\n      <Environment intensity={isTransitioning ? 1.5 : 1.0} {scale} />\n    </div>\n  </div>\n  <div class=\"overlay absolute inset-0 z-20\" class:transitioning={isTransitioning}></div>\n  <RainOverlay />\n  <BloodSplatter />\n  \n  <div class=\"absolute inset-0 z-40 flex flex-col items-center px-4\" class:fade-out={isTransitioning}>\n    <h1 \n      bind:this={heading}\n      class=\"text-5xl font-bold text-center mt-8 opacity-0 text-red-600 md:text-5xl text-4xl burton-text-shadow\"\n      style=\"transform: translateY(50px)\"\n    >\n      Crime Scene Investigation\n    </h1>\n\n    <div class=\"flex flex-col items-center justify-center mt-16 text-[var(--burton-white)]\">\n      <h2 class=\"text-3xl font-bold mb-4 burton-text-shadow\">Welcome, Stranger...</h2>\n      <p class=\"mb-6 text-lg burton-text-shadow\">What shall we call you tonight?</p>\n    </div>\n\n    <CrimeSceneTape />\n    \n    <form on:submit={handleSubmit} class=\"flex flex-col items-center gap-4 mt-16 md:mt-16 mt-32\">\n      <input\n        type=\"text\"\n        bind:value={name}\n        placeholder=\"Enter your name\"\n        class=\"px-4 py-2 border border-[var(--burton-purple)] rounded-md bg-[var(--burton-charcoal)] text-[var(--burton-white)] placeholder-gray-400 w-full max-w-xs\"\n      />\n      {#if error}\n        <p class=\"text-red-500 text-sm burton-text-shadow\">{error}</p>\n      {/if}\n      <button\n        type=\"submit\"\n        class=\"burton-button w-full max-w-xs\"\n      >\n        Continue\n      </button>\n    </form>\n  </div>\n</div>\n\n<style>\n  :global(body) {\n    font-family: 'Georgia', serif;\n    overflow: hidden;\n  }\n\n  .environment-wrapper {\n    transform-origin: center center;\n  }\n\n  .environment-container {\n    transform-origin: center center;\n    transition: transform 3s ease-in-out;\n    will-change: transform;\n  }\n\n  .environment-wrapper.transitioning .environment-container {\n    transform: scale(var(--scale, 1.8));\n  }\n\n  .overlay {\n    background: black;\n    opacity: 0;\n    transition: opacity 3s ease-in;\n    pointer-events: none;\n  }\n\n  .overlay.transitioning {\n    opacity: 1;\n  }\n\n  .fade-out {\n    transition: opacity 2s ease-in;\n    opacity: 0;\n  }\n</style>\n"],"names":[],"mappings":";;;;AACM,MAAA,KAAe,UAAA,KAAK,OAAS,EAAA,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAA;AAK3C,SAAA,0GAAA,cAAA,MAAA,gWAOK,EAAE,KAAA,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,kHAcV,KAAA,MAAM,EAAE,GAAA,CAAA,GAAA,MAAA;AAEP,WAAA,UAAA,cAAA,MAAA,KAAK,WAAW,KAAG,CAAA,CAAA,GAAA,cAAA,MACnB,KAAK,OAAW,IAAA,6BACjB,KAAK,OAAM,IAAK,IAAI,GAAC,CAAA,CAAA;AAAA;;;;;;;;;;;;;;oCAiDvB,KAAA,MAAM,EAAE,GAAA,CAAA,GAAA,MAAA;AAEP,WAAA,UAAA,cAAA,MAAA,KAAK,WAAW,KAAG,CAAA,CAAA,GAAA,cAAA,MACnB,KAAK,OAAW,IAAA,6BACjB,KAAK,OAAM,IAAK,IAAI,KAAG,CAAA,CAAA;AAAA;;;;;;AC/E5B,IAAA,YAAY;AACZ,IAAA,YAAY;;MAHZ;MACA;;AAoBQ,SAAA,mDAAA,cAAA,SAAA,WAAmB,CAAA,CAAA,GAAA,cAAA,UAAA,YAahB,CAAA,CAAA,qmBAAA,KAAA,MAAM,EAAE,GAAA,CAAA,GAAA,MAAA;yCAEP,KAAK,OAAM,IAAK,MAAM,KAAG,CAAA,CAAA,GAAA,cAAA,MACzB,KAAK,WAAW,MAAM,KACvB,CAAA,CAAA,GAAA,cAAA,KAAA,KAAK,OAAM,IAAK,IAAI,GAAC,CAAA,CAAA;AAAA;;UAUvB,UAAU;AAAA,cACX,YAAY,GAAG,IAAI,aAAa,GAAG;AAAA,cACnC,YAAY,GAAG,IAAI,aAAa,GAAG;AAAA,cACnC,SAAS,IAAI,UAAU;AAAA;EAMlB,CAAA,kGAAA,cAAA,SAAA,WAAmB,CAAA,CAAA,GAAA,cAAA,UAAA,YAAkB,CAAA,CAAA,GAAA,cAAA,QAAA,8EAGpC,SAAS,OAAO,SAAS,IAAI,UAAU,OAAO,UAAU,KAgB9D,CAAA,CAAA,oOAAA,cAAA,QAAA,0GAIE,WAAS,CAAA,CAAA;;;;;;;MC1EnB;AACA,MAAA,OAAO;AAGP,MAAA,QAAQ;;;;IA8BgH;AAAA;;;iBAExE;AAAA;;;;;;IAG2B;AAAA;;IAImB;AAAA,iMAEnF,SAAO,CAAA,CAAA,6VAAA,mBAAA,gBAAA,gBAAA,EAAA,SAAA,UAAA,CAAA,GAAA,CAAA,GAAA,CAAA,CAAA,CAAA,sRAAA,cAAA,SAiBJ,MAAI,CAAA,CAAA;;"}
