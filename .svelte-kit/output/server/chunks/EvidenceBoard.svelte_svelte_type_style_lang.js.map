{"version":3,"file":"EvidenceBoard.svelte_svelte_type_style_lang.js","sources":["../../../../src/lib/stores/gameState.js"],"sourcesContent":["import { writable, derived, get } from 'svelte/store';\nimport { browser } from '$app/environment';\nimport { supabase } from '$lib/supabase';\n\n// Initialize with empty defaults for SSR\nexport const inventory = writable([]);\nexport const activeClues = writable([]);\nexport const currentScene = writable('entrance');\nexport const dialogueState = writable(null);\nexport const gameFlags = writable({});\nexport const playerState = writable({\n  position: { x: 0, y: 0 },\n  hasFlashlight: false,\n  currentRoom: 'entrance'\n});\n\n// Initialize data only on client side\nif (browser) {\n  activeClues.set([\n    {\n      id: 1,\n      title: \"Mysterious Note\",\n      description: \"Found in the study. Handwriting appears shaky.\",\n      type: \"note\",\n      color: \"#ffd700\"\n    },\n    {\n      id: 2,\n      title: \"Broken Watch\",\n      description: \"Stopped at exactly 10:47 PM. Found near the body.\",\n      type: \"evidence\",\n      color: \"#ff9999\",\n      connections: [1, 3]\n    },\n    {\n      id: 3,\n      title: \"Strange Symbol\",\n      description: \"Carved into the mansion's front door. Matches victim's pendant.\",\n      type: \"clue\",\n      color: \"#98fb98\",\n      connections: [2]\n    }\n  ]);\n}\n\nexport const saveGameState = async () => {\n  if (!browser) return false;\n  \n  const { data, error } = await supabase\n    .from('game_states')\n    .upsert({\n      inventory: get(inventory),\n      active_clues: get(activeClues),\n      current_scene: get(currentScene),\n      game_flags: get(gameFlags)\n    });\n  \n  if (error) console.error('Save error:', error);\n  return !error;\n};\n"],"names":[],"mappings":";;AAKY,MAAC,YAAY,SAAS,CAAE,CAAA;AACxB,MAAC,cAAc,SAAS,CAAE,CAAA;"}
