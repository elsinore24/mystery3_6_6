{"version":3,"file":"Environment.js","sources":["../../../../src/lib/components/RainOverlay.svelte","../../../../src/lib/components/Environment.svelte"],"sourcesContent":["<script>\n  import { onMount } from 'svelte';\n\n  let canvas;\n  let ctx;\n  let raindrops = [];\n  let animationId;\n  \n  const createRaindrop = () => ({\n    x: Math.random() * (canvas ? canvas.width : window.innerWidth),\n    y: -20,\n    speed: 15 + Math.random() * 10,\n    length: 20 + Math.random() * 10\n  });\n\n  const animate = () => {\n    if (!ctx || !canvas) return;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.strokeStyle = 'rgba(174, 194, 224, 0.5)';\n    ctx.lineWidth = 1;\n\n    raindrops.forEach((drop, index) => {\n      ctx.beginPath();\n      ctx.moveTo(drop.x, drop.y);\n      ctx.lineTo(drop.x + 0.5, drop.y + drop.length);\n      ctx.stroke();\n\n      drop.y += drop.speed;\n\n      if (drop.y > canvas.height) {\n        raindrops[index] = createRaindrop();\n      }\n    });\n\n    animationId = requestAnimationFrame(animate);\n  };\n\n  const initializeCanvas = () => {\n    if (!canvas) return;\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    ctx = canvas.getContext('2d');\n\n    raindrops = Array(100).fill().map(() => createRaindrop());\n\n    animate();\n  };\n\n  onMount(() => {\n    initializeCanvas();\n\n    const resizeHandler = () => {\n      if (canvas) {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n      }\n    };\n\n    window.addEventListener('resize', resizeHandler);\n\n    return () => {\n      window.removeEventListener('resize', resizeHandler);\n      if (animationId) {\n        cancelAnimationFrame(animationId);\n      }\n      raindrops = [];\n    };\n  });\n</script>\n\n<canvas\n  bind:this={canvas}\n  class=\"fixed inset-0 pointer-events-none z-10\"\n></canvas>\n","<script>\n  export let intensity = 1.0;\n  export let scale = 1.0;\n</script>\n\n<div \n  class=\"environment relative w-full h-full overflow-hidden\"\n  style=\"--scale: {scale}\"\n>\n  <div class=\"fog-layer\"></div>\n  \n  {#each Array(5) as _, i}\n    <div \n      class=\"spiral-tree absolute bottom-0\"\n      style=\"left: {i * 20}%; animation-delay: {i * 0.5}s\"\n    ></div>\n  {/each}\n  \n  <div class=\"mansion-container\">\n    <div class=\"mansion\"></div>\n  </div>\n</div>\n\n<style>\n  .environment {\n    background: linear-gradient(180deg, var(--burton-purple), var(--burton-black));\n    filter: contrast(1.5) brightness(0.8);\n    will-change: transform;\n    height: 100vh;\n  }\n\n  .mansion-container {\n    position: absolute;\n    inset: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .mansion {\n    position: relative;\n    width: min(95%, 800px);\n    aspect-ratio: 16/7;\n    background-color: var(--burton-charcoal);\n    transform: rotate(-2deg);\n    clip-path: polygon(\n      20% 100%, 80% 100%,\n      85% 80%, 70% 75%,\n      75% 60%, 60% 55%,\n      65% 30%, 50% 0%,\n      35% 30%, 40% 55%,\n      25% 60%, 30% 75%,\n      15% 80%\n    );\n  }\n\n  @media (max-width: 768px) {\n    .mansion {\n      width: min(98%, 800px);\n      aspect-ratio: 14/7;\n      transform: rotate(-1deg) scale(1.15);\n    }\n  }\n\n  .spiral-tree {\n    width: 10%;\n    height: 40%;\n    background: var(--burton-charcoal);\n    clip-path: path(\"M10 10 Q20 0 30 10 T50 10 T70 20 T90 10 L100 100 L0 100 Z\");\n    animation: sway 10s infinite alternate ease-in-out;\n    transform-origin: bottom;\n  }\n\n  .fog-layer {\n    position: absolute;\n    inset: 0;\n    background: radial-gradient(\n      circle at 50% 50%,\n      var(--burton-purple) 0%,\n      transparent 70%\n    );\n    opacity: 0.3;\n    animation: float 12s infinite alternate ease-in-out;\n  }\n\n  @keyframes sway {\n    0% { transform: rotate(-5deg); }\n    100% { transform: rotate(5deg); }\n  }\n\n  @keyframes float {\n    0% { transform: translateY(-10px); }\n    100% { transform: translateY(10px); }\n  }\n</style>\n"],"names":[],"mappings":";;MAGM;wFAqEO,QAAM,CAAA,CAAA;;;;;;;ACvEN,MAAA,EAAA,YAAY,EAAG,IAAA;AACf,MAAA,EAAA,QAAQ,EAAG,IAAA;;;;sHAKL,OAAK,IAAA,CAAA,iDAAA,KAIf,MAAM,CAAC,GAAA,CAAA,GAAA,MAAA;AAGI,WAAA,mEAAA,WAAA,OAAA,IAAI,IAAwB,IAAA,IAAA,yBAAA,OAAA,IAAI,KAAG,IAAA,IAAA,GAAA;AAAA;;"}
